---json
{
    "canonical":"raster",
    "title":"Raster Image in ComboStrap (jpg, png, ...)",
    "description":"From lazy loading to automatic resizing, this page tells you how ComboStrap manages raster image"
}
---
====== ComboStrap UI - Raster Images ======


===== About =====
''raster images'' are [[image|images]] that are defined as a matrix of pixel (as opposed to [[svg|vectorial image such as svg that are defined as geometric shape]]).


===== Syntax =====
ComboStrap follows the general [[image#syntax |image syntax]] where you can set:
  * the dimension
  * the alignement
  * and all [[styling:styling|styling attributes]]




For instance, an [[styling:shadow|elevated]] photography with a surfer and a [[styling:hover|hover float animation]]

<webcode name="Default" frameborder=0>
<code dw>
{{ :ui:stock_image_surfer_in_the_see.png?600&shadow=md&onhover=float |}}
</code>
</webcode>


===== Features =====
==== Lazy loading ====
By default, the raster image are [[:lazy|lazy loaded]] meaning that they are downloaded only when they are on the screen or going to enter on the screen.

You can disable this feature with the [[#rasterImageLazyLoadingEnable]] configuration.
==== Automatic Responsive Resizing ====
''Automatic Responsive Resizing'' aims to send the image that suits the sizing of the browser.

We detect if the user is on a mobile or a desktop and download the image at the lowest needed resolution.

The loaded image resolution is based on the screen size and pixel resolution with breakpoints at:

^ Breakpoint ^ Max-Width ^ Description ^ 
| Extra-Small | %%<=%% 375 | Portrait phones |
| Small | %%<=%% 576 | Landscape phones |
| Medium | %%<=%% 768 | Tablets |
| Large | %%<=992%% | Desktops |
| Extra-Large \ %%>=992%% | Large Desktops |

The below video shows you a demonstration of responsive lazy loading of this page. When we are scrolling, just before the image that has a width of ''600'' is shown but we can see at the right side that the image downloaded has a size of ''355px'' (A [[#responsiveImageMargin|margin of ''-20px'' is applied by default]])


{{:ui:lazy_responsive_load.gif?600|}}

<note>
=== DPR Correction ===

If the user has a  mobile with a high device pixel ratio (DRP) resolution such as 3x, the browser will still download the image with a factor of 3. By default, we disable this feature downloading the image at the screen size.

\\
If you want to enable this feature back, you need to uncheck the [[#responsiveimagedpicorrection|DPI Correction configuration]]
</note>

===== Configuration =====

==== rasterImageLazyLoadingEnable ====

By default, the images are all loaded:
  * on time: ie just before they will enter the screen (while the user is scrolling)
  * with the lower resolution: the loaded image resolution is based on the screen size.

If you don't want this feature, you can disable it with the ''rasterImageLazyLoadingEnable'' [[:configuration|configuration]].




==== responsiveImageDpiCorrection ====

On mobile phone, the devices have an higher resolution. 

They generally shows 2 physical pixels for one logical pixels and therefore have what's called a ''device pixel ratio'' of 2.

The high end mobile can go up to a factor of 3.

By default, responsives images takes this into account and will download for a mobile screen of 300px and a ''device pixel ratio'' of 2, an image of 600px.

To avoid confusion and spare bandwidth, we have disabled this behavior.

If you want to go back to the default behavior, you can do it by unchecking the ''responsiveImageDpiCorrection'' [[:configuration|configuration]].


==== responsiveImageMargin ====

Below the responsive breakpoints, we extract a margin. The default value is 20px but you may change it with the ''responsiveImageMargin'' [[:configuration|configuration]].
